<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç | –¢–µ—Å—Ç –Ω–∞ —Ç–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏</title>
    
    <!-- –ò–∫–æ–Ω–∫–∞ -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><circle cx=%2250%22 cy=%2250%22 r=%2245%22 fill=%22%236a11cb%22/><circle cx=%2235%22 cy=%2240%22 r=%2210%22 fill=%22white%22/><circle cx=%2265%22 cy=%2240%22 r=%2210%22 fill=%22white%22/><path d=%22M30 70 Q50 85 70 70%22 stroke=%22white%22 stroke-width=%225%22 fill=%22none%22/></svg>">
    
    <meta property="og:title" content="–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç">
    <meta property="og:description" content="–£–∑–Ω–∞–π —Å–≤–æ–π —Ç–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏ –∑–∞ 5 –º–∏–Ω—É—Ç! –¢–µ—Å—Ç –∏–∑ 15 –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç, –∫—Ç–æ —Ç—ã: —Ö–æ–ª–µ—Ä–∏–∫, —Å–∞–Ω–≥–≤–∏–Ω–∏–∫, —Ñ–ª–µ–≥–º–∞—Ç–∏–∫ –∏–ª–∏ –º–µ–ª–∞–Ω—Ö–æ–ª–∏–∫.">
    <meta property="og:image" content="https://raw.githubusercontent.com/lyakvidu/personality-quiz/main/vk-preview.png">
    <meta property="og:url" content="https://lyakvidu.github.io/personality-quiz/">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
            padding: 30px;
        }

        .screen {
            display: none;
            animation: fadeIn 0.5s;
        }

        .screen.active {
            display: block;
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        h2 {
            color: #444;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .progress-bar {
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #ff7e5f, #feb47b);
            width: 0%;
            transition: width 0.3s;
        }

        .question-number {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .question-text {
            font-size: 1.4em;
            line-height: 1.5;
            color: #333;
            margin-bottom: 30px;
            text-align: center;
            min-height: 80px;
        }

        .answers {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .answer-btn {
            padding: 18px 20px;
            border: none;
            background: #f5f5f5;
            border-radius: 12px;
            font-size: 1.1em;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 5px solid #2575fc;
        }

        .answer-btn:hover {
            background: #e3f2fd;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .button {
            display: block;
            width: 100%;
            padding: 18px;
            background: linear-gradient(90deg, #6a11cb, #2575fc);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .result-share {
            background: linear-gradient(90deg, #25D366, #128C7E);
        }

        .result-restart {
            background: linear-gradient(90deg, #ff7e5f, #feb47b);
        }

        .hidden {
            display: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
                border-radius: 15px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            h2 {
                font-size: 1.4em;
            }
            
            .question-text {
                font-size: 1.2em;
            }
            
            .answer-btn {
                padding: 15px;
                font-size: 1em;
            }
        }
        
        html, body {
            overflow: hidden;
            height: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="menu-screen" class="screen active">
            <h1>üë§ –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç</h1>
            <p style="text-align: center; font-size: 1.2em; color: #666; margin-bottom: 30px;">
                –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ 15 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —É–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π —Ç–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏ –ø–æ —Ç–µ–æ—Ä–∏–∏ —Ç–µ–º–ø–µ—Ä–∞–º–µ–Ω—Ç–æ–≤
            </p>
            <button id="start-btn" class="button">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
            <div style="margin-top: 40px; color: #888; text-align: center;">
                <p>–¢–µ—Å—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç, –∫—Ç–æ –≤—ã:</p>
                <p>‚Ä¢ –•–æ–ª–µ—Ä–∏–∫ ‚Ä¢ –°–∞–Ω–≥–≤–∏–Ω–∏–∫ ‚Ä¢ –§–ª–µ–≥–º–∞—Ç–∏–∫ ‚Ä¢ –ú–µ–ª–∞–Ω—Ö–æ–ª–∏–∫</p>
            </div>
        </div>

        <div id="question-screen" class="screen">
            <div class="question-number" id="question-counter">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 15</div>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <h2 id="question-text">–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞</h2>
            <div class="answers" id="answers-container"></div>
            <button id="next-btn" class="button hidden">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
        </div>

        <div id="result-screen" class="screen">
            <h1>–í–∞—à –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç</h1>
            <div id="result-content"></div>
            <button id="share-btn" class="button result-share">üì± –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º</button>
            <button id="restart-btn" class="button result-restart">üîÑ –ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</button>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º VK Bridge -->
    <script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
    
    <script>
        // ==================== VK MINI APP –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        let isVK = false;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è VK Bridge
        if (typeof vkBridge !== 'undefined') {
            vkBridge.send('VKWebAppInit', {})
                .then(() => {
                    console.log('VKWebAppInit successful');
                    isVK = true;
                    
                    // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞
                    return vkBridge.send('VKWebAppGetLaunchParams');
                })
                .then(data => {
                    console.log('Running in VK with params:', data);
                })
                .catch(error => {
                    console.log('Not running in VK:', error);
                    isVK = false;
                });
        } else {
            console.log('VK Bridge not detected, running in standalone mode');
            isVK = false;
        }
        
        // ==================== –í–°–ï 15 –í–û–ü–†–û–°–û–í –¢–ï–°–¢–ê ====================
        const questions = [
            {
                text: "–í–∞—à –¥—Ä—É–≥ –æ–ø–∞–∑–¥—ã–≤–∞–µ—Ç –Ω–∞ –≤—Å—Ç—Ä–µ—á—É –Ω–∞ 30 –º–∏–Ω—É—Ç. –í–∞—à–∞ —Ä–µ–∞–∫—Ü–∏—è?",
                answers: [
                    { text: "–ù–∞—á–Ω—É –Ω–µ—Ä–≤–Ω–æ –∑–≤–æ–Ω–∏—Ç—å –∏ –ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è", scores: [3, 1, 0, 0] },
                    { text: "–ó–≤–æ–Ω—é —É–∑–Ω–∞—Ç—å, –≤—Å—ë –ª–∏ –≤ –ø–æ—Ä—è–¥–∫–µ", scores: [1, 3, 1, 0] },
                    { text: "–°–ø–æ–∫–æ–π–Ω–æ –∑–∞–π–º—É—Å—å —Å–≤–æ–∏–º–∏ –¥–µ–ª–∞–º–∏, –æ–Ω —É—Å–ø–µ–µ—Ç", scores: [0, 0, 3, 1] },
                    { text: "–†–∞—Å—Å—Ç—Ä–æ—é—Å—å, —á—Ç–æ –≤—Å—ë –ø–æ—à–ª–æ –Ω–µ –ø–æ –ø–ª–∞–Ω—É", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–ö–∞–∫ –≤—ã –æ–±—ã—á–Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –≤–∞–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è?",
                answers: [
                    { text: "–ë—ã—Å—Ç—Ä–æ –∏ —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ", scores: [3, 1, 0, 0] },
                    { text: "–û–±–¥—É–º—ã–≤–∞—é, –Ω–æ –Ω–µ–¥–æ–ª–≥–æ", scores: [1, 3, 1, 0] },
                    { text: "–í–∑–≤–µ—à–∏–≤–∞—é –≤—Å–µ '–∑–∞' –∏ '–ø—Ä–æ—Ç–∏–≤'", scores: [0, 1, 3, 1] },
                    { text: "–î–æ–ª–≥–æ —Å–æ–º–Ω–µ–≤–∞—é—Å—å, —Å–æ–≤–µ—Ç—É—é—Å—å —Å –¥—Ä—É–≥–∏–º–∏", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–í–∞—à–∞ —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—É—é —Ö–æ—Ä–æ—à—É—é –Ω–æ–≤–æ—Å—Ç—å?",
                answers: [
                    { text: "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∑—Ä—ã–≤ —Ä–∞–¥–æ—Å—Ç–∏", scores: [3, 2, 0, 0] },
                    { text: "–ò—Å–∫—Ä–µ–Ω–Ω–µ —Ä–∞–¥—É—é—Å—å –∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é –≤—Å–µ–º", scores: [1, 3, 0, 1] },
                    { text: "–°–ø–æ–∫–æ–π–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—é, –≤–Ω–µ—à–Ω–µ –ø–æ—á—Ç–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é", scores: [0, 1, 3, 1] },
                    { text: "–†–∞–¥—É—é—Å—å –≤–Ω—É—Ç—Ä–∏, –Ω–æ –≤–Ω–µ—à–Ω–µ —Å–¥–µ—Ä–∂–∞–Ω", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–ö–∞–∫ –≤—ã –≤–µ–¥—ë—Ç–µ —Å–µ–±—è –≤ –Ω–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏?",
                answers: [
                    { text: "–ë–µ—Ä—É –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É –Ω–∞ —Å–µ–±—è", scores: [3, 2, 0, 0] },
                    { text: "–õ–µ–≥–∫–æ –Ω–∞—Ö–æ–∂—É –æ–±—â–∏–π —è–∑—ã–∫ —Å–æ –≤—Å–µ–º–∏", scores: [1, 3, 0, 0] },
                    { text: "–ù–∞–±–ª—é–¥–∞—é —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã", scores: [0, 0, 3, 2] },
                    { text: "–ß—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –Ω–µ–∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–ß—Ç–æ –≤—ã –¥–µ–ª–∞–µ—Ç–µ, –∫–æ–≥–¥–∞ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç–µ—Å—å —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏?",
                answers: [
                    { text: "–ë—Ä–æ—Å–∞—é—Å—å —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ", scores: [3, 1, 0, 0] },
                    { text: "–ò—â—É —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥", scores: [1, 3, 0, 0] },
                    { text: "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Å–∏—Ç—É–∞—Ü–∏—é —Å–ø–æ–∫–æ–π–Ω–æ", scores: [0, 1, 3, 1] },
                    { text: "–ü–µ—Ä–µ–∂–∏–≤–∞—é –∏ –¥—É–º–∞—é –æ —Ö—É–¥—à–µ–º", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–ö–∞–∫ –≤—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ –ø–µ—Ä–µ–º–µ–Ω–∞–º?",
                answers: [
                    { text: "–û–±–æ–∂–∞—é, —ç—Ç–æ –¥—Ä–∞–π–≤ –∏ –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω", scores: [3, 2, 0, 0] },
                    { text: "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é, –µ—Å–ª–∏ –æ–Ω–∏ –∫ –ª—É—á—à–µ–º—É", scores: [1, 3, 1, 0] },
                    { text: "–ü—Ä–∏–Ω–∏–º–∞—é, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ–∏–∑–±–µ–∂–Ω—ã", scores: [0, 1, 3, 1] },
                    { text: "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", scores: [0, 0, 2, 3] }
                ]
            },
            {
                text: "–í–∞—à —Ä–∞–±–æ—á–∏–π —Å—Ç–∏–ª—å?",
                answers: [
                    { text: "–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–π, –Ω–æ –º–æ–≥—É –±—ã—Å—Ç—Ä–æ –≤—ã–≥–æ—Ä–µ—Ç—å", scores: [3, 1, 0, 0] },
                    { text: "–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–π, –Ω–æ –Ω—É–∂–Ω—ã –ø–µ—Ä–µ—Ä—ã–≤—ã", scores: [1, 3, 0, 0] },
                    { text: "–ú–µ—Ç–æ–¥–∏—á–Ω—ã–π –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π", scores: [0, 1, 3, 1] },
                    { text: "–°—Ç–∞—Ä–∞—Ç–µ–ª—å–Ω—ã–π, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω—ã–π", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–ö–∞–∫ –≤—ã –≤—ã—Ä–∞–∂–∞–µ—Ç–µ –≥–Ω–µ–≤?",
                answers: [
                    { text: "–í—Å–ø—ã—à–∫–∞ –≥–Ω–µ–≤–∞, –Ω–æ –±—ã—Å—Ç—Ä–æ –æ—Ç—Ö–æ–∂—É", scores: [3, 2, 0, 0] },
                    { text: "–ú–æ–≥—É –Ω–∞–∫—Ä–∏—á–∞—Ç—å, –Ω–æ –±—ã—Å—Ç—Ä–æ –∑–∞–±—ã–≤–∞—é", scores: [2, 3, 0, 0] },
                    { text: "–°–¥–µ—Ä–∂–∞–Ω–Ω–æ, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é —ç–º–æ—Ü–∏–∏", scores: [0, 0, 3, 2] },
                    { text: "–ö–æ–ø–ª—é –æ–±–∏–¥—É –≤–Ω—É—Ç—Ä–∏", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–í–∞—à–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ —Å–ø–æ—Ä—Ç—É?",
                answers: [
                    { text: "–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞", scores: [3, 1, 0, 0] },
                    { text: "–ö–æ–º–∞–Ω–¥–Ω—ã–µ –∏–≥—Ä—ã", scores: [1, 3, 0, 0] },
                    { text: "–ü–µ—à–∏–µ –ø—Ä–æ–≥—É–ª–∫–∏ –∏–ª–∏ –π–æ–≥–∞", scores: [0, 1, 3, 1] },
                    { text: "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é —á—Ç–µ–Ω–∏–µ –∏–ª–∏ —Å–ø–æ–∫–æ–π–Ω—ã–µ —Ö–æ–±–±–∏", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–ö–∞–∫ –≤—ã –æ—Ç–¥—ã—Ö–∞–µ—Ç–µ –ø–æ—Å–ª–µ —Ç—è–∂—ë–ª–æ–≥–æ –¥–Ω—è?",
                answers: [
                    { text: "–ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö, –≤—Å—Ç—Ä–µ—á–∞ —Å –¥—Ä—É–∑—å—è–º–∏", scores: [3, 2, 0, 0] },
                    { text: "–û–±—â–µ–Ω–∏–µ —Å –±–ª–∏–∑–∫–∏–º–∏", scores: [1, 3, 0, 0] },
                    { text: "–¢–∏—Ö–∏–π –≤–µ—á–µ—Ä –¥–æ–º–∞", scores: [0, 1, 3, 2] },
                    { text: "–£–µ–¥–∏–Ω–µ–Ω–∏–µ, —á—Ç–æ–±—ã –ø—Ä–∏–π—Ç–∏ –≤ —Å–µ–±—è", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–í–∞—à–∞ —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∫—Ä–∏—Ç–∏–∫—É?",
                answers: [
                    { text: "–°—Ä–∞–∑—É –∑–∞—â–∏—â–∞—é—Å—å", scores: [3, 1, 0, 0] },
                    { text: "–ü—Ä–∏—Å–ª—É—à–∏–≤–∞—é—Å—å, –µ—Å–ª–∏ –æ–Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∞", scores: [1, 3, 1, 0] },
                    { text: "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Å–ø–æ–∫–æ–π–Ω–æ", scores: [0, 1, 3, 1] },
                    { text: "–°–∏–ª—å–Ω–æ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞—é—Å—å", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–ö–∞–∫ –≤—ã –≤–µ–¥—ë—Ç–µ —Å–µ–±—è –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?",
                answers: [
                    { text: "–ò–¥—É –≤ –æ—Ç–∫—Ä—ã—Ç—É—é –∫–æ–Ω—Ñ—Ä–æ–Ω—Ç–∞—Ü–∏—é", scores: [3, 1, 0, 0] },
                    { text: "–°—Ç–∞—Ä–∞—é—Å—å –Ω–∞–π—Ç–∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å", scores: [1, 3, 1, 0] },
                    { text: "–°–æ—Ö—Ä–∞–Ω—è—é –Ω–µ–π—Ç—Ä–∞–ª–∏—Ç–µ—Ç", scores: [0, 1, 3, 1] },
                    { text: "–ò–∑–±–µ–≥–∞—é –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–ß—Ç–æ –≤–∞–∂–Ω–µ–µ –≤ —Ä–∞–±–æ—Ç–µ?",
                answers: [
                    { text: "–†–µ–∑—É–ª—å—Ç–∞—Ç –∏ —Å–∫–æ—Ä–æ—Å—Ç—å", scores: [3, 1, 0, 0] },
                    { text: "–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ –æ–±—â–µ–Ω–∏–µ", scores: [1, 3, 0, 0] },
                    { text: "–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ—Ä—è–¥–æ–∫", scores: [0, 1, 3, 1] },
                    { text: "–ì–ª—É–±–∏–Ω–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–æ", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–ö–∞–∫ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —Å–≤–æ—ë –≤—Ä–µ–º—è?",
                answers: [
                    { text: "–ò–º–ø—Ä–æ–≤–∏–∑–∏—Ä—É—é –ø–æ —Å–∏—Ç—É–∞—Ü–∏–∏", scores: [3, 2, 0, 0] },
                    { text: "–ü–ª–∞–Ω–∏—Ä—É—é, –Ω–æ –Ω–µ —Å—Ç—Ä–æ–≥–æ", scores: [1, 3, 1, 0] },
                    { text: "–ß—ë—Ç–∫–æ —Å–ª–µ–¥—É—é –ø–ª–∞–Ω—É", scores: [0, 1, 3, 1] },
                    { text: "–î–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ–¥—É–º—ã–≤–∞—é –∫–∞–∂–¥—ã–π —à–∞–≥", scores: [0, 0, 1, 3] }
                ]
            },
            {
                text: "–ß—Ç–æ –¥–ª—è –≤–∞—Å –∏–¥–µ–∞–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥–Ω–æ–π?",
                answers: [
                    { text: "–ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö, –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è", scores: [3, 2, 0, 0] },
                    { text: "–í—Å—Ç—Ä–µ—á–∞ —Å –¥—Ä—É–∑—å—è–º–∏, –≤–µ—á–µ—Ä–∏–Ω–∫–∞", scores: [1, 3, 0, 0] },
                    { text: "–°–ø–æ–∫–æ–π–Ω—ã–π –¥–µ–Ω—å –¥–æ–º–∞, —Ö–æ–±–±–∏", scores: [0, 1, 3, 2] },
                    { text: "–£–µ–¥–∏–Ω–µ–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è", scores: [0, 0, 1, 3] }
                ]
            }
        ];

        // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞
        const results = [
            {
                title: "–•–û–õ–ï–†–ò–ö üî•",
                description: "–í—ã - –ª–∏–¥–µ—Ä –ø–æ –Ω–∞—Ç—É—Ä–µ! –í–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è –±—å—ë—Ç —á–µ—Ä–µ–∑ –∫—Ä–∞–π, –≤—ã —Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã –∏ –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω—ã. –ë—ã—Å—Ç—Ä–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ —Ä–µ—à–µ–Ω–∏—è –∏ –Ω–µ –±–æ–∏—Ç–µ—Å—å —Ä–∏—Å–∫–æ–≤–∞—Ç—å. –ò–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –±—ã—Ç—å –≤—Å–ø—ã–ª—å—á–∏–≤—ã, –Ω–æ —Ç–∞–∫ –∂–µ –±—ã—Å—Ç—Ä–æ –æ—Ç—Ö–æ–¥–∏—Ç–µ. –í–∞—Å —É–≤–∞–∂–∞—é—Ç –∑–∞ —Å–∏–ª—É –≤–æ–ª–∏ –∏ —É–º–µ–Ω–∏–µ –≤–µ—Å—Ç–∏ –∑–∞ —Å–æ–±–æ–π.",
                strengths: "–≠–Ω–µ—Ä–≥–∏—á–Ω–æ—Å—Ç—å, —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ª–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞",
                weaknesses: "–í—Å–ø—ã–ª—å—á–∏–≤–æ—Å—Ç—å, –Ω–µ—Ç–µ—Ä–ø–µ–ª–∏–≤–æ—Å—Ç—å",
                color: "#ff6b6b"
            },
            {
                title: "–°–ê–ù–ì–í–ò–ù–ò–ö üåû",
                description: "–ñ–∏–∑–Ω–µ—Ä–∞–¥–æ—Å—Ç–Ω—ã–π –∏ –æ–±—â–∏—Ç–µ–ª—å–Ω—ã–π! –í—ã –ª–µ–≥–∫–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ –æ–±—â–∏–π —è–∑—ã–∫ —Å –ª—é–¥—å–º–∏, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã –∏ –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã. –£ –≤–∞—Å –º–Ω–æ–≥–æ –¥—Ä—É–∑–µ–π –∏ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤. –ò–Ω–æ–≥–¥–∞ –≤–∞–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —É—Å–∏–¥—á–∏–≤–æ—Å—Ç–∏, –Ω–æ –≤–∞—à–µ –æ–±–∞—è–Ω–∏–µ —Å–ø–∞—Å–∞–µ—Ç –ª—é–±—É—é —Å–∏—Ç—É–∞—Ü–∏—é. –° –≤–∞–º–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–∫—É—á–Ω–æ!",
                strengths: "–ö–æ–º–º—É–Ω–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å, –æ–ø—Ç–∏–º–∏–∑–º, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å",
                weaknesses: "–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ—Å—Ç—å, –Ω–µ–ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ",
                color: "#4ecdc4"
            },
            {
                title: "–§–õ–ï–ì–ú–ê–¢–ò–ö üèîÔ∏è",
                description: "–°–ø–æ–∫–æ–π–Ω—ã–π –∏ —É—Ä–∞–≤–Ω–æ–≤–µ—à–µ–Ω–Ω—ã–π! –í—ã - –æ—Å—Ç—Ä–æ–≤–æ–∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –≤ –±—É—à—É—é—â–µ–º –º–æ—Ä–µ. –í—Å–µ–≥–¥–∞ —Ö–ª–∞–¥–Ω–æ–∫—Ä–æ–≤–Ω—ã, —Ä–∞—Å—Å—É–¥–∏—Ç–µ–ª—å–Ω—ã –∏ –Ω–∞–¥—ë–∂–Ω—ã. –í—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π —Å–ª—É—à–∞—Ç–µ–ª—å –∏ –¥—Ä—É–≥, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å—Å—è. –ò–Ω–æ–≥–¥–∞ –≤–∞—Å —É–ø—Ä–µ–∫–∞—é—Ç –≤ –º–µ–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –Ω–æ –≤—ã –ø—Ä–æ—Å—Ç–æ –Ω–µ –ª—é–±–∏—Ç–µ —Å—É–µ—Ç–∏—Ç—å—Å—è.",
                strengths: "–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, —Ç–µ—Ä–ø–µ–ª–∏–≤–æ—Å—Ç—å",
                weaknesses: "–ú–µ–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–∞—Å—Å–∏–≤–Ω–æ—Å—Ç—å",
                color: "#45b7d1"
            },
            {
                title: "–ú–ï–õ–ê–ù–•–û–õ–ò–ö üåô",
                description: "–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∏ –≥–ª—É–±–æ–∫–∏–π –º—ã—Å–ª–∏—Ç–µ–ª—å! –í—ã —Ç–æ–Ω–∫–æ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –º–∏—Ä –≤–æ–∫—Ä—É–≥, —Ç–≤–æ—Ä—á–µ—Å–∫–∏ –æ–¥–∞—Ä–µ–Ω—ã –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –∫ –¥–µ—Ç–∞–ª—è–º. –ü—Ä–µ–¥–∞–Ω–Ω—ã–π –¥—Ä—É–≥ –∏ –ø–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç –≤ —Ä–∞–±–æ—Ç–µ. –ò–Ω–æ–≥–¥–∞ –≤—ã —Å–ª–∏—à–∫–æ–º –∫—Ä–∏—Ç–∏—á–Ω—ã –∫ —Å–µ–±–µ –∏ —Å–∫–ª–æ–Ω–Ω—ã –∫ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è–º, –Ω–æ –∏–º–µ–Ω–Ω–æ —ç—Ç–∞ –≥–ª—É–±–∏–Ω–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º.",
                strengths: "–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å",
                weaknesses: "–†–∞–Ω–∏–º–æ—Å—Ç—å, –ø–µ—Å—Å–∏–º–∏–∑–º",
                color: "#96ceb4"
            }
        ];

        // ==================== –ò–ì–†–û–í–ê–Ø –õ–û–ì–ò–ö–ê ====================
        let currentQuestion = 0;
        let scores = [0, 0, 0, 0];
        let finalResult = null;

        // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã DOM
        const menuScreen = document.getElementById('menu-screen');
        const questionScreen = document.getElementById('question-screen');
        const resultScreen = document.getElementById('result-screen');
        const questionText = document.getElementById('question-text');
        const answersContainer = document.getElementById('answers-container');
        const nextBtn = document.getElementById('next-btn');
        const progressBar = document.getElementById('progress');
        const questionCounter = document.getElementById('question-counter');
        const resultContent = document.getElementById('result-content');
        const startBtn = document.getElementById('start-btn');
        const shareBtn = document.getElementById('share-btn');
        const restartBtn = document.getElementById('restart-btn');

        // –ù–∞—á–∞–ª–æ —Ç–µ—Å—Ç–∞
        startBtn.addEventListener('click', startTest);
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', restartTest);

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞
        async function shareResult() {
            const personalityNames = ['–•–æ–ª–µ—Ä–∏–∫', '–°–∞–Ω–≥–≤–∏–Ω–∏–∫', '–§–ª–µ–≥–º–∞—Ç–∏–∫', '–ú–µ–ª–∞–Ω—Ö–æ–ª–∏–∫'];
            const typeIndex = getPersonalityType();
            const resultText = `üé≠ –Ø –ø—Ä–æ—à—ë–ª —Ç–µ—Å—Ç "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç" –∏ –º–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${personalityNames[typeIndex]} - ${results[typeIndex].title}!\n\n–ü—Ä–æ–π–¥–∏ –∏ —É–∑–Ω–∞–π —Å–≤–æ–π —Ç–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏!\n${window.location.href}`;
            
            if (isVK && typeof vkBridge !== 'undefined') {
                try {
                    await vkBridge.send('VKWebAppShare', {
                        link: window.location.href,
                        title: '–ú–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç',
                        text: resultText
                    });
                } catch (error) {
                    console.error('VK share failed:', error);
                    fallbackShare(resultText);
                }
            } else {
                fallbackShare(resultText);
            }
        }

        function fallbackShare(text) {
            if (navigator.share) {
                navigator.share({
                    title: '–ú–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç',
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(text)
                    .then(() => alert('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω! –¢–µ–ø–µ—Ä—å –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –∏–º —Å –¥—Ä—É–∑—å—è–º–∏.'))
                    .catch(() => prompt('–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –∏ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –∏–º:', text));
            }
        }

        shareBtn.addEventListener('click', shareResult);

        // –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–≥—Ä—ã
        function startTest() {
            currentQuestion = 0;
            scores = [0, 0, 0, 0];
            finalResult = null;
            showScreen(questionScreen);
            loadQuestion();
        }

        function showScreen(screen) {
            menuScreen.classList.remove('active');
            questionScreen.classList.remove('active');
            resultScreen.classList.remove('active');
            screen.classList.add('active');
        }

        function loadQuestion() {
            if (currentQuestion >= questions.length) {
                showResults();
                return;
            }
            
            const question = questions[currentQuestion];
            questionText.textContent = question.text;
            
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            questionCounter.textContent = `–í–æ–ø—Ä–æ—Å ${currentQuestion + 1} –∏–∑ ${questions.length}`;
            
            answersContainer.innerHTML = '';
            nextBtn.classList.add('hidden');
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.textContent = `${index + 1}. ${answer.text}`;
                button.addEventListener('click', () => selectAnswer(index));
                answersContainer.appendChild(button);
            });
        }

        function selectAnswer(answerIndex) {
            const answerScores = questions[currentQuestion].answers[answerIndex].scores;
            for (let i = 0; i < scores.length; i++) {
                scores[i] += answerScores[i];
            }
            
            nextBtn.classList.remove('hidden');
            
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons.forEach(btn => {
                btn.disabled = true;
                btn.style.opacity = '0.7';
            });
            
            answerButtons[answerIndex].style.background = '#e3f2fd';
            answerButtons[answerIndex].style.borderLeft = '5px solid #6a11cb';
        }

        function nextQuestion() {
            currentQuestion++;
            loadQuestion();
        }

        function showResults() {
            showScreen(resultScreen);
            
            let maxScore = 0;
            let personalityType = 0;
            
            for (let i = 0; i < scores.length; i++) {
                if (scores[i] > maxScore) {
                    maxScore = scores[i];
                    personalityType = i;
                }
            }
            
            finalResult = results[personalityType];
            
            let scoresHtml = '<div style="margin: 20px 0;">';
            scores.forEach((score, index) => {
                const percent = (score / (questions.length * 3)) * 100;
                const personalityNames = ['–•–æ–ª–µ—Ä–∏–∫', '–°–∞–Ω–≥–≤–∏–Ω–∏–∫', '–§–ª–µ–≥–º–∞—Ç–∏–∫', '–ú–µ–ª–∞–Ω—Ö–æ–ª–∏–∫'];
                scoresHtml += `
                    <div style="margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>${personalityNames[index]}</span>
                            <span>${score} –±–∞–ª–ª–æ–≤</span>
                        </div>
                        <div style="height: 10px; background: #eee; border-radius: 5px; overflow: hidden;">
                            <div style="height: 100%; width: ${Math.min(percent, 100)}%; background: ${results[index].color};"></div>
                        </div>
                    </div>
                `;
            });
            scoresHtml += '</div>';
            
            resultContent.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 3em; margin: 20px 0; color: ${finalResult.color}">
                        ${personalityType === 0 ? 'üî•' : personalityType === 1 ? 'üåû' : personalityType === 2 ? 'üèîÔ∏è' : 'üåô'}
                    </div>
                    <h2 style="color: ${finalResult.color}; font-size: 2.2em; margin: 20px 0;">${finalResult.title}</h2>
                    <p style="font-size: 1.2em; line-height: 1.6; color: #555; text-align: center; margin-bottom: 30px;">
                        ${finalResult.description}
                    </p>
                    <div style="background: #f9f9f9; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <p><strong>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:</strong> ${finalResult.strengths}</p>
                        <p><strong>–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞:</strong> ${finalResult.weaknesses}</p>
                    </div>
                    ${scoresHtml}
                </div>
            `;
        }

        function getPersonalityType() {
            let maxScore = 0;
            let type = 0;
            for (let i = 0; i < scores.length; i++) {
                if (scores[i] > maxScore) {
                    maxScore = scores[i];
                    type = i;
                }
            }
            return type;
        }

        function restartTest() {
            showScreen(menuScreen);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('DOMContentLoaded', () => {
            showScreen(menuScreen);
        });
    </script>
</body>
</html>

